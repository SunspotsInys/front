import{A as a,i as e}from"./index.de7157e0.js";import{A as s}from"./index.90cf9121.js";/* empty css              */import{d as o,m as l,u as n,a9 as t,o as r,b as i,e as d,g as u,x as p,R as v,p as m,j as c,a as f,l as g}from"./vendor.5a145592.js";import{r as j}from"./index.944274c9.js";const x=v();m("data-v-656f4435");const h={id:"signin",class:"mainpage"},k=c("登录...");f();var _=o({setup(o){let v=l(""),m=l("");const c=n(),f=t(),_=()=>{""!==v.value&&""!==m.value?((a,e)=>j.post("/api/signin",{username:a,password:e}))(v.value,m.value).then((a=>{if(console.log(a),2e3===a.code){g.success("成功登录，跳转去管理员界面!!!"),c.push("/admin");let e={uname:a.data.username,avatar:a.data.avatar,token:a.data.token};console.log(e),f.commit("signin",e)}})):g.error("请输入用户名或密码")};return(o,l)=>(r(),i("div",h,[d(u(a),{value:u(v),"onUpdate:value":l[1]||(l[1]=a=>p(v)?v.value=a:v=a),placeholder:"用户名..."},null,8,["value"]),d(u(e.InputPassword),{value:u(m),"onUpdate:value":l[2]||(l[2]=a=>p(m)?m.value=a:m=a),placeholder:"密码..."},null,8,["value"]),d(u(s),{type:"primary",size:"large",onClick:_},{default:x((()=>[k])),_:1})]))}});_.__scopeId="data-v-656f4435";export default _;
